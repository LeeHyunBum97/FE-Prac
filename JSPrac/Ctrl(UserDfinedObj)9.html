<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-enquiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>사용자 정의 객체</title>

    </head>
    <body>
        <script>
            let obj = {"name":"adam", "title":"세상에 없는 사람", "album":"genesis",
                        "disp":function(){
                            return this.name + ":" + this.title + ":" + this.album
                        }}

            // name속성 출력
            console.log(obj.name);
            console.log(obj["name"]);
            console.log(obj.disp());
            console.log(obj.disp); // 코드 자체를 출력함

            // obj의 모든 속성을 순서대로 attr에 문자열 형태로 대입
            for(attr in obj){
                console.log(obj[attr]);
                /* console.log(obj["attr"]);
                console.log(obj.attr); */
            }

            // 객체 내부에 해당되는 속성이 있는가?
            console.log("name" in obj);

            // with 블럭 내에서 obj를 생략해도 된다.
            // 현재 파일 내에서 window를 생략해도 window의 객체 요소를 불러오는 것도 이문법 때문
            with(obj){
                console.log(title)
            }

            // 속성 추가 및 수정
            obj.company = "adamsoft";
            obj.title = "exodus";
            //속성 삭제
            delete(obj.album);
            console.log(obj);


            let object = { "name":"adam",
                            "getName" : function(){
                                //JS에서는 메서드 안에서 자신의 객체에 속한 속성을 호출할 때 반드시 this.을 붙여야 한다.
                                return this.name;
                            }
                        }
                        console.log(object.getName());

            let singer1 = function(){
                // this가 없으면 지역변수가 만들어집니다.
                // this와 함께 만들어야 객체의 속성이 됩니다.
                name = "이름없음";
                song = "노래없음";
            }

            let singer2 = function(){
                // name과 song이라는 속성을 갖는 생성자
                // 매개변수가 없는 생성자를 default constructor이라고 합니다.
                this.name = "이름없음";
                this.song = "노래없음";
            }

            // 생성자를 이용한 인스턴스 생성
            var ob1 = new singer2();
            console.log(ob1);

            let artist1 = function(name=name, job="불분명"){
                // this가 없으면 지역변수가 만들어집니다.
                // this와 함께 만들어야 객체의 속성이 됩니다.
                this.name = name;
                this.song = job;
            }
            var tae = new artist1("태연");
            console.log(tae);

            let artist2 = function(name, job){
                this.name = name;
                this.job = job;
            }
            var suzy = new artist2("수지", "가수");
            var iu = new artist2("아이유", "가수");
            console.log(suzy);
            console.log(iu);
        </script>
    </body>
</html>