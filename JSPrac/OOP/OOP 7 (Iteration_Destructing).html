<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-enquiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Iterator_Destructring</title>
        <!-- 구조분해 할당 -->
    </head>
    <body>
        <script>
            // 배열은 순차적으로 대입이 가능하기 때문에 (Symbol.iterator)
            // 배열은 Iterator을 준수하기 때문에 순서대로 대입된 것.
            var ar1 = [100, 200, 300, 400, 500];
            let [one, two, three, four] = ar1; // -> 순서가 중요
            console.log(one);

            ar1 = [500, 400, 300, 200, 100];
            [one, two, three, four] = ar1; // -> 배열은 저장된 순서가 중요
            console.log(one);

            // Iterator가 없기 때문에 순차적으로 대입되는 것이 아닌 이름을 보고 대입이된다.
            var obj1 = {"name" : "카리나", "job" : "가수"};
            let {job, name} = obj1 // -> 속성 이름 대로 대입
            console.log(name);

            let display1 = (msg, n) => {
                for(let i=0; i<n; i++){
                    console.log(msg);
                }
            }
            display1(name);

            
            //display1(3, "메시지"); // 문자열은 숫자로 인식 되지 않기 때문에 불가하다.
            let display2 = (ob) => { // 해당 함수를 호출하는 곳에서 여러개의 매개변수를 줄 때 좌와 같은식으로 묵어두는 것이 필요하다.
                                     // 위 display1(3, "메시지")와 다르게 다음과 같이 하나의 객체로 묶어 쓰면 속성타입에 상관없이 적용가능
                                                     let {msg, n} = ob;
                for(let i=0; i<n; i++){
                    console.log(msg);
                }
            }
            display2({n : 3, msg : "안녕하세여"});

            let [a, b, c, d, e] = ar2;
            console.log(e); // ar2배열에는 실제로 다섯번째 요소가 없기 때문에 undefined가 된다.

            let [v, w, x, y, z = 500] = ar2; // 하지만 구조분해 할당도 이처럼 비어있는 요소에 기본값을 설정할 수 있다.
            console.log(e);

            // Spread연산_할당할 변수앞에 ...붙이기 -> OBJ ARY 적용 예시
            ar2 = [100, 200, 300, 400];
            var ins = {"name1":"카리나", "job1":"가수", "company":"SM", "Group":"aespa"};
            let [first, ...etc] = ar2;
            console.log(first);
            console.log(etc);

            let {name1, job1, ...attr} = ins;
            console.log(attr);

            // 함수의 Parameter에 Spread연산이 적용되면, REST Param이라고 한다.
            function rest({name1, job1, ...attr}){
                console.log(attr);
            }
            rest(ins);

            

        </script>
    </body>
</html>