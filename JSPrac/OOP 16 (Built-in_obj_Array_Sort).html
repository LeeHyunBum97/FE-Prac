<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Array_Sort</title>
        <script>
            var ar1 = ["에스파", "소녀시대", "레드벨벳", "에프엑스"];
            var ar2 = [20, 40, 230, 110];

            // JS에서는 숫자 배열을 문자 배열로 판단하고 정렬하는데 코드를 가지고 정렬하기 때문에 이렇게 자릿수가 다른 데이터를 정렬하면 오류가
            // 발생한다.
            console.log(ar1.sort());
            console.log(ar2.sort()) // -> 110, 20, 230, 40 으로 출력,

            // sort 메서드에는 매개변수가 2개이고, 반환은 정수를 하는 함수를 대입할 수 있다. 매개변수 2개는 배열의 데이터가 순차적으로 전부 대입
            // 된다. 양수를 반환하면 앞의 데이터가 크다고 판단해 위치를 변경
            console.log(ar2.sort((a, b) => {
                return a - b; // return 되는 것이 양수면 위치를 바꾸고, 0과 음수는 두수가 같거나 작아서 위치 변경 X
            }))

            // 내림차순
            console.log(ar2.sort((a, b) => {
                return b - a;
            }))

            // 문자열 배열의 내림차순 오름차순 정렬 후 reverse를 해도 되지만 크기 비교를 이용하면(JS는 문자열 크기 비교 가능)
            console.log(ar1.sort((a, b) => {
                if (a < b) 
                    return 1;
                else if (a == b) 
                    return 0;
                else 
                    return -1;
                }
            ));

            // 인스턴스룰 생성할 수 있는 생성자
            function Book(name, price, date) {
                this.name = name;
                this.price = price;
                this.date = date;

                this.toString = function () {
                    return this.name + ":" + this.price + ":" + this.date;
                }
            }
            // Book 배열 생성
            var books = [
                new Book("파이썬"),
                30000,
                new Date(2022, 10, 10),
                new Book("Java"),
                40000,
                new Date(2022, 10, 8),
                new Book("C++"),
                38000,
                new Date(2021, 8, 15),
                new Book("JS/CSS"),
                42000,
                new Date(2021, 2, 27)
            ];
            console.log(books);

            // 1이면 name의 오름차순 2이면 name의 내림차수 3이면 prince읭 오름차순 4이면 pricer의 내림차수 5이면 date의
            // 오름차순 6이면 date의 내림차순 나머지는 입력한 순서대로

            let menu = prompt("정렬 방법을 선택하세요.");
            let result;
            switch (menu) {
                case "1":
                    result = books.sort((a, b) => {
                        if (a.name > b.name) {
                            return 1;
                        } else {
                            return -1;
                        }
                    });
                    break;

                case "2":
                    result = books.sort((a, b) => {
                        if (a.name < b.name) {
                            return 1;
                        } else {
                            return -1;
                        }
                    });
                    break;

                case "3":
                    result = books.sort((a, b) => {
                        if (a.price - b.price) {
                            return 1;
                        } else {
                            return -1;
                        }
                    });
                    break;

                case "4":
                    result = books.sort((a, b) => {
                        if (b.price - a.price) {
                            return 1;
                        } else {
                            return -1;
                        }
                    });
                    break;

                case "5":
                    result = books.sort((a, b) => {
                        if (a.date.getTime() - b.date.getTime()) {
                            return 1;
                        } else {
                            return -1;
                        }
                    });
                    break;

                case "6":
                    result = books.sort((a, b) => {
                        if (b.date.getTime() - a.date.getTime()) {
                            return 1;
                        } else {
                            return -1;
                        }
                    });
                    break;

                default:
                    result = books;
            }
            console.log(result);
        </script>
    </head>
    <body></body>
</html>